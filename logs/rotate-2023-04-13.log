{"level":"error","message":"connect ECONNREFUSED ::1:6000","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"}}
{"level":"error","message":"connect ECONNREFUSED ::1:6000","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"}}
{"level":"error","message":"connect ECONNREFUSED ::1:6000","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"}}
{"level":"error","message":"connect ECONNREFUSED ::1:6000","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"}}
{"level":"error","message":"connect ECONNREFUSED ::1:6000","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"}}
{"level":"error","message":"connect ECONNREFUSED ::1:6000","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"}}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM1N2YwOTI3NjFmNjQxMmJhOTNlYTYiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTM5ODk1NiwiZXhwIjoxNjgxNDA2MTU2fQ.OaOXbSPhOFTWupfhaJssQ9qJW-4O4291SozxPWK_5_w"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"897bd40e33239f8e0109b042b51fa6a6","status":200,"timestamp":"2023-04-13T17:15:56+02:00"}
{"level":"error","message":"User role <user> is not authorized to access this route","method":"GET","path":"/user/all","stack":"Error: User role <user> is not authorized to access this route\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:46:17\n    at Layer.handle [as handle_request] (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/route.js:144:13)\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:37:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":403,"success":false,"timestamp":"2023-04-13T17:15:59+02:00"}
{"level":"info","message":{"data":[{"__v":0,"_id":"64357f092761f6412ba93ea6","birthDate":"1997-04-15","createdAt":"2023-04-11T15:38:49.368Z","email":"a.ioele@icloud.com","firstName":"andrea","fullName":"andrea ioele","id":"64357f092761f6412ba93ea6","lastName":"ioele","location":{"city":"Milan","coordinates":[9.18539,45.46145],"country":"IT","formattedAddress":"Via Torino, Milan, 20123, IT","street":"Via Torino","type":"Point","zipcode":"20123"},"loginData":{"isActive":0,"password":"$2a$10$OdgqQIbFzoJ4yWzDJ.1e2uB192QS.rAmGN9xnOxu.O4ypNWaXP86G","role":"admin","username":"andrea.ioele"},"sex":"M","updatedAt":"2023-04-11T15:57:31.876Z"}],"method":"GET","path":"/user/all","reqId":"ca06e3b66a372505a7f5564d73675f0b","status":200,"timestamp":"2023-04-13T17:16:42+02:00"}}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM1N2YwOTI3NjFmNjQxMmJhOTNlYTYiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQxNDYzOSwiZXhwIjoxNjgxNDIxODM5fQ.-mhxCHWgf9S2K8xI1nrGtb3s-CIDXmTeMD95lPjts2M"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"b4facf527d5c16b5326c9971a74a5bc1","status":200,"timestamp":"2023-04-13T21:37:19+02:00"}
{"data":{"__v":0,"_id":"64357f092761f6412ba93ea6","birthDate":"1997-04-15","createdAt":"2023-04-11T15:38:49.368Z","email":"a.ioele@icloud.com","firstName":"andrea","fullName":"andrea ioele","id":"64357f092761f6412ba93ea6","lastName":"ioele","location":{"city":"Milan","coordinates":[9.18539,45.46145],"country":"IT","formattedAddress":"Via Torino, Milan, 20123, IT","street":"Via Torino","type":"Point","zipcode":"20123"},"loginData":{"isActive":0,"password":"$2a$10$OdgqQIbFzoJ4yWzDJ.1e2uB192QS.rAmGN9xnOxu.O4ypNWaXP86G","role":"admin","username":"andrea.ioele"},"sex":"M","updatedAt":"2023-04-13T19:57:29.895Z"},"level":"info","message":"User correctly retrieved","method":"GET","path":"/auth/me","reqId":"ba2ed142cc47d7f65132006b379e71ef","status":200,"timestamp":"2023-04-13T21:58:27+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM1N2YwOTI3NjFmNjQxMmJhOTNlYTYiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQxNTkyNiwiZXhwIjoxNjgxNDIzMTI2fQ.cup9dY6mhMU6Ce_HYFU50GZtgVbzQtsJOd_XUTd2oUI"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"96edf23786284707ce8d0bdf0b33d768","status":200,"timestamp":"2023-04-13T21:58:46+02:00"}
{"level":"error","message":"User or password incorrect. Please try again","method":"POST","path":"/auth/login","reqId":"0f85c041d69ab99897118d5dcbb7d4c4","status":401,"timestamp":"2023-04-13T21:58:55+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM1N2YwOTI3NjFmNjQxMmJhOTNlYTYiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQxNTk0NCwiZXhwIjoxNjgxNDIzMTQ0fQ.0dWWRO4V0vj9L6OZTsFFSvK4KoOJujqfOknSr5TBexg"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"d5112997856ecafe705730d7d5a2d6ad","status":200,"timestamp":"2023-04-13T21:59:04+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM1N2YwOTI3NjFmNjQxMmJhOTNlYTYiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQxNzAxNSwiZXhwIjoxNjgxNDI0MjE1fQ.8rrM__7nXQgwzQO32RrUDbeEVF1Zczks3C0y0VnFc_s"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"4de8c2214881fd01280bc27af55e9601","status":200,"timestamp":"2023-04-13T22:16:55+02:00"}
{"level":"error","message":"Password is incorrect","method":"PUT","path":"/auth/updatepassword","reqId":"3f0d3c8e324bfa2ee5eb1ea733e02c24","stack":"Error: Password is incorrect\n    at exports.updatePassword (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/controllers/auth.controller.js:189:21)","status":401,"success":false,"timestamp":"2023-04-13T22:19:42+02:00"}
{"level":"error","message":"Password is incorrect","method":"PUT","path":"/auth/updatepassword","reqId":"15e2c3b31a3abec62b37e9534b19aff0","stack":"Error: Password is incorrect\n    at exports.updatePassword (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/controllers/auth.controller.js:189:21)","status":401,"success":false,"timestamp":"2023-04-13T22:24:04+02:00"}
{"level":"error","message":"BSON field 'findAndModify.arrayFilters' is the wrong type 'object', expected type 'array'","method":"PUT","path":"/auth/updatepassword","reqId":"950b565d21a4583073e3b81b73cd1fc8","stack":"MongoServerError: BSON field 'findAndModify.arrayFilters' is the wrong type 'object', expected type 'array'\n    at Connection.onMessage (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:201:30)\n    at MessageStream.<anonymous> (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:59:60)\n    at MessageStream.emit (node:events:512:28)\n    at processIncomingData (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:512:28)\n    at addChunk (node:internal/streams/readable:324:12)\n    at readableAddChunk (node:internal/streams/readable:297:9)\n    at Readable.push (node:internal/streams/readable:234:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)","status":500,"success":false,"timestamp":"2023-04-13T22:42:32+02:00"}
{"level":"error","message":"The array filter for identifier 'loginData' was not used in the update { $setOnInsert: { createdAt: new Date(1681418582316) }, $set: { firstName: \"test\", updatedAt: new Date(1681418582316) } }","method":"PUT","path":"/auth/updatepassword","reqId":"6858566c2fe023b96707a96c7d470eda","stack":"MongoServerError: The array filter for identifier 'loginData' was not used in the update { $setOnInsert: { createdAt: new Date(1681418582316) }, $set: { firstName: \"test\", updatedAt: new Date(1681418582316) } }\n    at Connection.onMessage (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:201:30)\n    at MessageStream.<anonymous> (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:59:60)\n    at MessageStream.emit (node:events:512:28)\n    at processIncomingData (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:512:28)\n    at addChunk (node:internal/streams/readable:324:12)\n    at readableAddChunk (node:internal/streams/readable:297:9)\n    at Readable.push (node:internal/streams/readable:234:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)","status":500,"success":false,"timestamp":"2023-04-13T22:43:02+02:00"}
{"level":"error","message":"The array filter for identifier 'loginData' was not used in the update { $setOnInsert: { createdAt: new Date(1681418647202) }, $set: { updatedAt: new Date(1681418647202) } }","method":"PUT","path":"/auth/updatepassword","reqId":"0117e2499cd36c5672e61487241c7296","stack":"MongoServerError: The array filter for identifier 'loginData' was not used in the update { $setOnInsert: { createdAt: new Date(1681418647202) }, $set: { updatedAt: new Date(1681418647202) } }\n    at Connection.onMessage (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:201:30)\n    at MessageStream.<anonymous> (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:59:60)\n    at MessageStream.emit (node:events:512:28)\n    at processIncomingData (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:512:28)\n    at addChunk (node:internal/streams/readable:324:12)\n    at readableAddChunk (node:internal/streams/readable:297:9)\n    at Readable.push (node:internal/streams/readable:234:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)","status":500,"success":false,"timestamp":"2023-04-13T22:44:07+02:00"}
{"level":"error","message":"The array filter for identifier 'loginData' was not used in the update { $setOnInsert: { createdAt: new Date(1681418648775) }, $set: { updatedAt: new Date(1681418648775) } }","method":"PUT","path":"/auth/updatepassword","reqId":"4bb1ca4b433d70dcbc3fc6d92e48e323","stack":"MongoServerError: The array filter for identifier 'loginData' was not used in the update { $setOnInsert: { createdAt: new Date(1681418648775) }, $set: { updatedAt: new Date(1681418648775) } }\n    at Connection.onMessage (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:201:30)\n    at MessageStream.<anonymous> (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:59:60)\n    at MessageStream.emit (node:events:512:28)\n    at processIncomingData (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:512:28)\n    at addChunk (node:internal/streams/readable:324:12)\n    at readableAddChunk (node:internal/streams/readable:297:9)\n    at Readable.push (node:internal/streams/readable:234:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)","status":500,"success":false,"timestamp":"2023-04-13T22:44:08+02:00"}
{"level":"error","message":"Plan executor error during findAndModify :: caused by :: The positional operator did not find the match needed from the query.","method":"PUT","path":"/auth/updatepassword","reqId":"0b51c2fb5ce49dccd68c081926348937","stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: The positional operator did not find the match needed from the query.\n    at Connection.onMessage (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:201:30)\n    at MessageStream.<anonymous> (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/connection.js:59:60)\n    at MessageStream.emit (node:events:512:28)\n    at processIncomingData (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:512:28)\n    at addChunk (node:internal/streams/readable:324:12)\n    at readableAddChunk (node:internal/streams/readable:297:9)\n    at Readable.push (node:internal/streams/readable:234:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)","status":500,"success":false,"timestamp":"2023-04-13T22:45:21+02:00"}
{"level":"error","message":"Password is incorrect","method":"PUT","path":"/auth/updatepassword","reqId":"6d3f39a309e67515ed8b531dc342c3d4","stack":"Error: Password is incorrect\n    at exports.updatePassword (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/controllers/auth.controller.js:189:21)","status":401,"success":false,"timestamp":"2023-04-13T22:53:36+02:00"}
{"level":"error","message":"Password is incorrect","method":"PUT","path":"/auth/updatepassword","reqId":"eeece27a45bd50db2ce384a5ee1be617","stack":"Error: Password is incorrect\n    at exports.updatePassword (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/controllers/auth.controller.js:189:21)","status":401,"success":false,"timestamp":"2023-04-13T22:53:51+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyYW5kb21Vc2VySWQiOiIyYzM3Y2E1MGVlMGFmYmE4IiwiZW1haWwiOiJhLmlvZWxlQGljbG91ZC5jb20iLCJpYXQiOjE2ODE0MTkyNzAsImV4cCI6MTY4MTQyNjQ3MH0.AtkySlnLo3-hUAHS-h1fTgdJ84_Hv_bpeR5TySi1A9I"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"07c30a023d23339bc27ef5b02cd1aa19","status":200,"timestamp":"2023-04-13T22:54:31+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM4NmMwNjBkODJkYTU2YjM4OGFhMzYiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQxOTM3OCwiZXhwIjoxNjgxNDI2NTc4fQ.6XxidjVKbC69SBpmwfnwGW7F_dE5jx4G8UgZpPyoov8"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"00ba5786a25b8b537ac8e2b30fac5217","status":200,"timestamp":"2023-04-13T22:56:18+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyYW5kb21Vc2VySWQiOiI2OTBiYjYyYzFiM2ZiNjYwIiwiZW1haWwiOiJhLmlvZWxlQGljbG91ZC5jb20iLCJpYXQiOjE2ODE0MjAwODAsImV4cCI6MTY4MTQyNzI4MH0.rTQDYoH3ES2oW16mo52JzHSfR7Z6opMi1vFEuHJDcsY"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"b895a3300277d4c9af881713a629f7a1","status":200,"timestamp":"2023-04-13T23:08:01+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM4NmYzMDA3MThlN2RiMjEyNGI0YjMiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQyMDEwNSwiZXhwIjoxNjgxNDI3MzA1fQ.RPS_4TR9zu9JhNJ8YTaxDowXS_-3sSS1Q8a10vVdU3A"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"4a87dd5df2488f344f5e619b8d43ec5c","status":200,"timestamp":"2023-04-13T23:08:25+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyYW5kb21Vc2VySWQiOiIwMTAzZTRiMTRjMzBiY2QxIiwiZW1haWwiOiJhLmlvZWxlQGljbG91ZC5jb20iLCJpYXQiOjE2ODE0MjAxODMsImV4cCI6MTY4MTQyNzM4M30.qbmfD-VKZsHLzw-wFpHNFyOVo-CAB3SagClAe3nwXPM"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"ddeaaaefaafc1360699fe397b37202a3","status":200,"timestamp":"2023-04-13T23:09:43+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM4NmY5NzQyYThjOGI2ZjRkYmFkOGEiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQyMDE4NiwiZXhwIjoxNjgxNDI3Mzg2fQ.Jt4QsUqxkacgNDqhFaOgyOI35VxoCw8-y8PLB0ppcFE"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"75ead3b3d5ae8a7c2da7fa95545b68e4","status":200,"timestamp":"2023-04-13T23:09:46+02:00"}
{"level":"error","message":"Password is incorrect","method":"PUT","path":"/auth/updatepassword","reqId":"be43e655a034a90c623df973a0c0c0d4","stack":"Error: Password is incorrect\n    at exports.updatePassword (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/controllers/auth.controller.js:189:21)","status":401,"success":false,"timestamp":"2023-04-13T23:12:12+02:00"}
{"data":{"__v":0,"_id":"64386f9742a8c8b6f4dbad8a","birthDate":"1997-04-15","createdAt":"2023-04-13T21:09:43.344Z","email":"a.ioele@icloud.com","firstName":"andrea","fullName":"andrea ioele","id":"64386f9742a8c8b6f4dbad8a","lastName":"ioele","location":{"city":"Milan","coordinates":[9.18539,45.46145],"country":"IT","formattedAddress":"Via Torino, Milan, 20123, IT","street":"Via Torino","type":"Point","zipcode":"20123"},"loginData":{"isActive":0,"password":"$2a$10$MvPJHmq12OvQWv9A/8z.l.MfWvW7qbUhWZWDiMDSvI8waYwGvaXCm","role":"user","username":"andrea.ioele"},"sex":"M","updatedAt":"2023-04-13T21:11:57.213Z"},"level":"info","message":"User correctly retrieved","method":"GET","path":"/auth/me","reqId":"0ba4462867ae32e8813533f99faaa971","status":200,"timestamp":"2023-04-13T23:12:18+02:00"}
{"level":"error","message":"User or password incorrect. Please try again","method":"POST","path":"/auth/login","reqId":"5362ac58cfae46ab3704108d4e8cb30b","status":401,"timestamp":"2023-04-13T23:12:29+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM4NmY5NzQyYThjOGI2ZjRkYmFkOGEiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQyMDM3MiwiZXhwIjoxNjgxNDI3NTcyfQ.tWiwmTHAh6pF_ZYKIYpQellagdBPgloTaIyJ4fBVcfw"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"d030cd8535b7b85bae8892fe29a27a28","status":200,"timestamp":"2023-04-13T23:12:52+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyYW5kb21Vc2VySWQiOiJlZGMzYjAwMjc3MTdmNzcwIiwiZW1haWwiOiJhLmlvZWxlQGljbG91ZC5jb20iLCJpYXQiOjE2ODE0MjE1MTUsImV4cCI6MTY4MTQyODcxNX0.LUmJDwe7Pq70VM91Tqf6AjPPHQAAqU15IZhDTTpZoY8"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"ec842e530bfbbb4043f7a24951c80619","status":200,"timestamp":"2023-04-13T23:31:55+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyYW5kb21Vc2VySWQiOiI0MzAzMmQxZTA4YzE4NTcwIiwiZW1haWwiOiJhLmlvZWxlQGljbG91ZC5jb20iLCJpYXQiOjE2ODE0MjE2ODksImV4cCI6MTY4MTQyODg4OX0.ZgwSIVWQXFKAqli_rKCqqzguIDeTHBqGgCkn5Q-a7nQ"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"8f2e2bd07cd6fceadc0d51e111ba416c","status":200,"timestamp":"2023-04-13T23:34:50+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyYW5kb21Vc2VySWQiOiIzOWM2MjQ1NzA1ZDJjZDA0IiwiZW1haWwiOiJhLmlvZWxlQGljbG91ZC5jb20iLCJpYXQiOjE2ODE0MjE3OTAsImV4cCI6MTY4MTQyODk5MH0.VAbkbNi-0JgCpzQjQRmnoxoy3htEwLGoFAHrkTvh3Y0"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"d250df4f5ada325505a6f0a7dd0e65d8","status":200,"timestamp":"2023-04-13T23:36:30+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2ODE0MjE5ODEsImV4cCI6MTY4MTQyOTE4MX0.uhxxdvR5gaZnUAC2Hgsa4j5g4g83Yc1zhCyHJnaldWU"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"9a7fb74e63c011f66d9e55a55c15f26c","status":200,"timestamp":"2023-04-13T23:39:41+02:00"}
{"level":"error","message":"Cannot read properties of undefined (reading 'loginData')","method":"GET","path":"/user/all","reqId":"53b76baf699203f1c330cca74bee4d75","stack":"TypeError: Cannot read properties of undefined (reading 'loginData')\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:50:38\n    at Layer.handle [as handle_request] (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/route.js:144:13)\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:43:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":500,"success":false,"timestamp":"2023-04-13T23:43:17+02:00"}
{"level":"error","message":"Cannot read properties of undefined (reading 'loginData')","method":"GET","path":"/user/all","reqId":"36c2c1a2ef7d49934e09107afa73f26d","stack":"TypeError: Cannot read properties of undefined (reading 'loginData')\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:51:38\n    at Layer.handle [as handle_request] (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/route.js:144:13)\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:44:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":500,"success":false,"timestamp":"2023-04-13T23:44:07+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2ODE0MjIzNTMsImV4cCI6MTY4MTQyOTU1M30.BybeT-Kpljqp6_z3pZyFekyD8X17Ga40aei3gwTH3bM"},"level":"info","message":"User registered","method":"POST","path":"/auth/register","reqId":"c041501d6a2b8f51591e2bf4319461aa","status":200,"timestamp":"2023-04-13T23:45:53+02:00"}
{"level":"error","message":"User or password incorrect. Please try again","method":"POST","path":"/auth/login","reqId":"3b56844b40947710b1595f9237060c90","status":401,"timestamp":"2023-04-13T23:46:25+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM4NzgxMDg1ZjVkZmY1Yjg0Y2U5ZGMiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQyMjM5NSwiZXhwIjoxNjgxNDI5NTk1fQ.BUpmnHXeDnkFNjCsFvrogNXHiBIi3CnOvqm4F8yuc-E"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"f408a22ecb6627d89806228c17bb0b6e","status":200,"timestamp":"2023-04-13T23:46:35+02:00"}
{"level":"error","message":"User role <user> is not authorized to access this route","method":"GET","path":"/user/all","reqId":"2f0252955aa74dadd918330a8e984b3c","stack":"Error: User role <user> is not authorized to access this route\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:66:17\n    at Layer.handle [as handle_request] (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/node_modules/express/lib/router/route.js:144:13)\n    at /Users/aioele/DocumentsD/backend_crud-api-nodejs-expressjs-mongodb/src/middleware/auth.js:57:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":403,"success":false,"timestamp":"2023-04-13T23:46:41+02:00"}
{"level":"info","message":{"data":[{"__v":0,"_id":"6438781085f5dff5b84ce9dc","birthDate":"1997-04-15","createdAt":"2023-04-13T21:45:52.618Z","email":"a.ioele@icloud.com","firstName":"andrea","fullName":"andrea ioele","id":"6438781085f5dff5b84ce9dc","lastName":"ioele","location":{"city":"Milan","coordinates":[9.18539,45.46145],"country":"IT","formattedAddress":"Via Torino, Milan, 20123, IT","street":"Via Torino","type":"Point","zipcode":"20123"},"loginData":{"isActive":0,"password":"$2a$10$T9.sodnkd0VurpnqRSC5.OxR4VZnvM97Wnjq4SxwU0Pxhjf05Urr.","role":"admin","username":"andrea.ioele"},"sex":"M","updatedAt":"2023-04-13T21:45:52.618Z"}],"method":"GET","path":"/user/all","reqId":"9dacd6b9f1ca7621481a7b2b98a8ef68","status":200,"timestamp":"2023-04-13T23:47:06+02:00"}}
{"data":{"__v":0,"_id":"6438781085f5dff5b84ce9dc","birthDate":"1997-04-15","createdAt":"2023-04-13T21:45:52.618Z","email":"a.ioele@icloud.com","firstName":"andrea","fullName":"andrea ioele","id":"6438781085f5dff5b84ce9dc","lastName":"ioele","location":{"city":"Milan","coordinates":[9.18539,45.46145],"country":"IT","formattedAddress":"Via Torino, Milan, 20123, IT","street":"Via Torino","type":"Point","zipcode":"20123"},"loginData":{"isActive":0,"password":"$2a$10$T9.sodnkd0VurpnqRSC5.OxR4VZnvM97Wnjq4SxwU0Pxhjf05Urr.","role":"admin","username":"andrea.ioele"},"sex":"M","updatedAt":"2023-04-13T21:45:52.618Z"},"level":"info","message":"User correctly retrieved","method":"GET","path":"/auth/me","reqId":"2a9085a057c3b1dd2d278ae6b859bd1e","status":200,"timestamp":"2023-04-13T23:47:15+02:00"}
{"data":{"__v":0,"_id":"6438781085f5dff5b84ce9dc","birthDate":"1997-04-15","createdAt":"2023-04-13T21:45:52.618Z","email":"a.ioele@icloud.com","firstName":"andrea","fullName":"andrea ioele","id":"6438781085f5dff5b84ce9dc","lastName":"ioele","location":{"city":"Milan","coordinates":[9.18539,45.46145],"country":"IT","formattedAddress":"Via Torino, Milan, 20123, IT","street":"Via Torino","type":"Point","zipcode":"20123"},"loginData":{"isActive":0,"password":"$2a$10$zgo3DPtv.5DDXhzqQEeL1uIDyEgPp5BqagJ8sdrtW/m6y5sxzdGyi","role":"admin","username":"andrea.ioele"},"sex":"M","updatedAt":"2023-04-13T21:47:37.817Z"},"level":"info","message":"User correctly retrieved","method":"GET","path":"/auth/me","reqId":"8a057d588702e7c31b721536374808c2","status":200,"timestamp":"2023-04-13T23:47:47+02:00"}
{"data":{},"level":"info","message":"User logged out","method":"GET","path":"/auth/logout","reqId":"f9bf394b3b3f7a791192161e24896bc1","status":200,"timestamp":"2023-04-13T23:47:56+02:00"}
{"level":"error","message":"User or password incorrect. Please try again","method":"POST","path":"/auth/login","reqId":"a76c3b3b6956bc7cf25959b219641de3","status":401,"timestamp":"2023-04-13T23:48:20+02:00"}
{"data":{"expiresIn":"2h","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDM4NzgxMDg1ZjVkZmY1Yjg0Y2U5ZGMiLCJlbWFpbCI6ImEuaW9lbGVAaWNsb3VkLmNvbSIsImlhdCI6MTY4MTQyMjUwNiwiZXhwIjoxNjgxNDI5NzA2fQ.LhevWFTzx6Ad-vwat8PVyo8uHqfz5Yy0Uoyoa5J4nxU"},"level":"info","message":"User logged in","method":"POST","path":"/auth/login","reqId":"34ea4c9abd0ce939adacb24460fac3e9","status":200,"timestamp":"2023-04-13T23:48:26+02:00"}
{"level":"info","message":{"data":[{"__v":0,"_id":"6438781085f5dff5b84ce9dc","birthDate":"1997-04-15","createdAt":"2023-04-13T21:45:52.618Z","email":"a.ioele@icloud.com","firstName":"andrea","fullName":"andrea ioele","id":"6438781085f5dff5b84ce9dc","lastName":"ioele","location":{"city":"Milan","coordinates":[9.18539,45.46145],"country":"IT","formattedAddress":"Via Torino, Milan, 20123, IT","street":"Via Torino","type":"Point","zipcode":"20123"},"loginData":{"isActive":0,"password":"$2a$10$zgo3DPtv.5DDXhzqQEeL1uIDyEgPp5BqagJ8sdrtW/m6y5sxzdGyi","role":"admin","username":"andrea.ioele"},"sex":"M","updatedAt":"2023-04-13T21:47:37.817Z"}],"method":"GET","path":"/user/all","reqId":"1e7595aecb4216fd174c7b40a8414b53","status":200,"timestamp":"2023-04-13T23:48:33+02:00"}}
